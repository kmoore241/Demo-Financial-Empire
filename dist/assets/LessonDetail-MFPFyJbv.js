import{j as e,m as n,a4 as A,G,p as j,a7 as H,ac as T,z as M,B as R,s as I,w as Q,x as E}from"./vendor-fTMV3q5d.js";import{i as K,f as O,a as m,L as d}from"./react-OYokQGn-.js";import{e as i,B as x,C as N,d as f,P as V,a as U,b as $}from"./index-Du1LFI1a.js";import{h as g}from"./data-ButEY0lT.js";import"./radix-CcqZMRLn.js";const Z=()=>{var L,z,B,q,P;const{lessonId:b}=K(),v=O(),[a,h]=m.useState(0),[c,y]=m.useState([]),[u,w]=m.useState(!1),s=g.find(t=>t.id===b);if(m.useEffect(()=>{if(!s){v("/academy");return}w(s.completed)},[s,v]),!s)return null;const l=s.content.sections.length,o=c.length,k=o/l*100,C=t=>{c.includes(t)||y([...c,t])},D=()=>{const t=Array.from({length:l},(r,p)=>p);y(t),w(!0)},F=t=>{switch(t){case"beginner":return"bg-empire-emerald-500/20 text-empire-emerald-400";case"intermediate":return"bg-empire-gold-500/20 text-empire-gold-400";case"advanced":return"bg-red-500/20 text-red-400";default:return"bg-muted text-muted-foreground"}},S=g.find((t,r)=>g.findIndex(p=>p.id===b)===r-1);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-empire-navy-950/20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(i,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(d,{to:"/academy",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Back to Academy"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent",children:s.title}),e.jsx("p",{className:"text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:F(s.difficulty),children:s.difficulty}),e.jsxs(x,{variant:"secondary",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),s.duration," min"]}),u&&e.jsxs(x,{className:"bg-empire-emerald-500/20 text-empire-emerald-400",children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:e.jsx(N,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:e.jsxs(f,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Learning Progress"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"/",l," sections completed"]})]}),e.jsx(V,{value:k,className:"mb-4"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:[Math.round(k),"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-empire-emerald-400",children:s.duration}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Minutes Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-empire-gold-400",children:((L=s.quiz)==null?void 0:L.questions.length)||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Quiz Questions"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"lg:col-span-1",children:e.jsxs(N,{className:"border-border/50 bg-card/50 backdrop-blur-sm sticky top-4",children:[e.jsx(U,{children:e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Content"})]})}),e.jsxs(f,{children:[e.jsx("div",{className:"space-y-2",children:s.content.sections.map((t,r)=>e.jsx(i,{variant:a===r?"default":"ghost",className:"w-full justify-start h-auto p-3 text-left",onClick:()=>{h(r),C(r)},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[c.includes(r)?e.jsx(j,{className:"w-4 h-4 text-empire-emerald-400 flex-shrink-0"}):e.jsx("div",{className:"w-4 h-4 border border-muted-foreground rounded-full flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Section ",r+1]}),t.videoUrl&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(T,{className:"w-3 h-3 text-empire-emerald-400"}),e.jsx("span",{className:"text-xs text-empire-emerald-400",children:"Video"})]})]})]})]})},r))}),s.quiz&&e.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:e.jsx(i,{className:"w-full",variant:"outline",asChild:!0,disabled:o<l,children:e.jsxs(d,{to:`/academy/quiz?lesson=${s.id}`,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Take Quiz (",s.quiz.questions.length," questions)"]})})})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"lg:col-span-3",children:e.jsxs(N,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[e.jsx(U,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsx("span",{children:(z=s.content.sections[a])==null?void 0:z.title})]}),e.jsxs(x,{variant:"secondary",children:["Section ",a+1," of ",l]})]})}),e.jsxs(f,{className:"prose prose-slate dark:prose-invert max-w-none",children:[e.jsxs("div",{className:"space-y-6",children:[((B=s.content.sections[a])==null?void 0:B.videoUrl)&&e.jsxs("div",{className:"not-prose",children:[e.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden border border-border/50 bg-muted",children:e.jsx("iframe",{src:s.content.sections[a].videoUrl,title:s.content.sections[a].title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3 text-sm text-muted-foreground",children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"Watch the video lesson above for visual explanations"})]})]}),e.jsx("div",{className:"text-base leading-relaxed",children:(q=s.content.sections[a])==null?void 0:q.content.split(`
`).map((t,r)=>e.jsx("p",{className:"mb-4",children:t},r))}),((P=s.content.sections[a])==null?void 0:P.keyPoints)&&e.jsxs("div",{className:"bg-empire-emerald-500/10 border border-empire-emerald-400/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(I,{className:"w-5 h-5 text-empire-emerald-400"}),e.jsx("h4",{className:"font-semibold text-empire-emerald-400",children:"Key Takeaways"})]}),e.jsx("ul",{className:"space-y-2",children:s.content.sections[a].keyPoints.map((t,r)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-empire-emerald-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:t})]},r))})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-border",children:[e.jsxs(i,{variant:"outline",onClick:()=>h(Math.max(0,a-1)),disabled:a===0,children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Previous"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!c.includes(a)&&e.jsxs(i,{variant:"outline",onClick:()=>C(a),children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Mark as Read"]}),a===l-1&&o>=l-1&&!u?e.jsxs(i,{onClick:D,className:"bg-empire-emerald-500 hover:bg-empire-emerald-600",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Complete Lesson"]}):null]}),e.jsxs(i,{variant:"outline",onClick:()=>h(Math.min(l-1,a+1)),disabled:a===l-1,children:["Next",e.jsx(E,{className:"w-4 h-4 ml-2"})]})]}),u&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 p-6 bg-empire-emerald-500/10 border border-empire-emerald-400/30 rounded-lg",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-empire-emerald-500/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Q,{className:"w-8 h-8 text-empire-emerald-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-empire-emerald-400",children:"Lesson Completed!"}),e.jsx("p",{className:"text-muted-foreground",children:"Great job! You've completed all sections of this lesson."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[s.quiz&&e.jsx(i,{asChild:!0,children:e.jsxs(d,{to:`/academy/quiz?lesson=${s.id}`,children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Take Quiz"]})}),S&&e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs(d,{to:`/academy/lesson/${S.id}`,children:["Next Lesson",e.jsx(E,{className:"w-4 h-4 ml-2"})]})}),e.jsx(i,{variant:"outline",asChild:!0,children:e.jsxs(d,{to:"/academy",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Back to Academy"]})})]})]})})]})]})})]})]})})};export{Z as default};
