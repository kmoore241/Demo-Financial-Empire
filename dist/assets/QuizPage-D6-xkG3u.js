import{j as e,m as c,w as L,X as v,R as W,B as K,z as X,G as _,A as J,p as y,D as U,a4 as Z,x as ee}from"./vendor-fTMV3q5d.js";import{a as m,L as B}from"./react-OYokQGn-.js";import{C as w,d as C,e as x,B as S,P as se,a as E,b as I,L as T}from"./index-Du1LFI1a.js";import{R as F,a as M}from"./radio-group-0AzRoeAG.js";import{h as re}from"./data-ButEY0lT.js";import"./radix-CcqZMRLn.js";const oe=()=>{var P,$;const[i]=m.useState(re[0].quiz),[o,j]=m.useState(0),[l,k]=m.useState({}),[a,p]=m.useState(!1),[f,b]=m.useState(!1),[g,A]=m.useState((i.timeLimit||15)*60),[N,Q]=m.useState(0),t=i.questions[o],u=i.questions.length,R=(o+1)/u*100;m.useEffect(()=>{if(f||g<=0)return;const s=setInterval(()=>{A(r=>r<=1?(b(!0),q(),0):r-1)},1e3);return()=>clearInterval(s)},[f,g]);const V=s=>{const r=Math.floor(s/60),n=s%60;return`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},z=s=>{k(r=>({...r,[t.id]:s}))},G=()=>{o<u-1?(j(s=>s+1),p(!1)):(b(!0),q())},H=()=>{o>0&&(j(s=>s-1),p(!1))},Y=()=>{p(!0)},q=()=>{let s=0;i.questions.forEach(r=>{l[r.id]===r.correctAnswer&&s++}),Q(s/u*100)},D=s=>s>=i.passingScore?"text-empire-emerald-400":s>=50?"text-empire-gold-400":"text-red-400",O=()=>{j(0),k({}),p(!1),b(!1),A((i.timeLimit||15)*60),Q(0)};if(f){const s=N>=i.passingScore;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-empire-navy-950/20",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:e.jsx(w,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:e.jsxs(C,{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[s?e.jsx("div",{className:"w-20 h-20 bg-empire-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(L,{className:"w-10 h-10 text-empire-emerald-400"})}):e.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(v,{className:"w-10 h-10 text-red-400"})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:s?"Congratulations!":"Keep Learning!"}),e.jsx("p",{className:"text-muted-foreground",children:s?"You've successfully completed the quiz!":"Don't worry, practice makes perfect!"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${D(N)}`,children:[Math.round(N),"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Your Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[Object.keys(l).length,"/",u]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Questions Answered"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-empire-gold-400",children:[i.passingScore,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Passing Score"})]})]}),e.jsxs("div",{className:"space-y-4",children:[s&&e.jsxs(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"p-4 rounded-lg bg-empire-emerald-500/10 border border-empire-emerald-400/30",children:[e.jsx("h3",{className:"font-semibold text-empire-emerald-400 mb-2",children:"ðŸŽ‰ Certificate Earned!"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You've earned a certificate for completing this quiz. View and download it from your profile."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(x,{onClick:O,variant:"outline",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Retake Quiz"]}),s&&e.jsx(x,{asChild:!0,children:e.jsxs(B,{to:"/academy/certificate",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"View Certificate"]})}),e.jsx(x,{variant:"outline",asChild:!0,children:e.jsxs(B,{to:"/academy",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Back to Academy"]})})]})]})]})})})})})}return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-empire-navy-950/20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(X,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-purple-400 to-purple-600 bg-clip-text text-transparent",children:i.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Question ",o+1," of ",u]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(S,{className:"bg-purple-500/20 text-purple-400",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),V(g)]}),e.jsxs(S,{variant:"secondary",children:["Passing: ",i.passingScore,"%"]})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-2",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(R),"% Complete"]})]}),e.jsx(se,{value:R,className:"h-2"})]}),e.jsx(J,{mode:"wait",children:e.jsx(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},children:e.jsxs(w,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[e.jsx(E,{children:e.jsxs(I,{className:"flex items-start justify-between",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:t.question}),e.jsx(S,{variant:"outline",className:"ml-4 flex-shrink-0",children:t.type})]})}),e.jsxs(C,{className:"space-y-6",children:[t.type==="multiple-choice"&&t.options&&e.jsx(F,{value:(P=l[t.id])==null?void 0:P.toString(),onValueChange:s=>z(parseInt(s)),className:"space-y-3",children:t.options.map((s,r)=>{const n=l[t.id]===r,d=a&&r===t.correctAnswer,h=a&&n&&r!==t.correctAnswer;return e.jsxs(c.div,{whileHover:{scale:1.02},className:`flex items-center space-x-3 p-4 rounded-lg border transition-all ${a?d?"border-empire-emerald-400 bg-empire-emerald-500/10":h?"border-red-400 bg-red-500/10":"border-border/50":n?"border-purple-400 bg-purple-500/10":"border-border/50 hover:border-border"}`,children:[e.jsx(M,{value:r.toString(),id:`option-${r}`,disabled:a}),e.jsx(T,{htmlFor:`option-${r}`,className:"flex-1 cursor-pointer",children:s}),a&&d&&e.jsx(y,{className:"w-5 h-5 text-empire-emerald-400"}),a&&h&&e.jsx(v,{className:"w-5 h-5 text-red-400"})]},r)})}),t.type==="true-false"&&e.jsx(F,{value:($=l[t.id])==null?void 0:$.toString(),onValueChange:s=>z(s),className:"space-y-3",children:["True","False"].map((s,r)=>{const n=l[t.id]===s,d=a&&s===t.correctAnswer,h=a&&n&&s!==t.correctAnswer;return e.jsxs(c.div,{whileHover:{scale:1.02},className:`flex items-center space-x-3 p-4 rounded-lg border transition-all ${a?d?"border-empire-emerald-400 bg-empire-emerald-500/10":h?"border-red-400 bg-red-500/10":"border-border/50":n?"border-purple-400 bg-purple-500/10":"border-border/50 hover:border-border"}`,children:[e.jsx(M,{value:s,id:`tf-${r}`,disabled:a}),e.jsx(T,{htmlFor:`tf-${r}`,className:"flex-1 cursor-pointer",children:s}),a&&d&&e.jsx(y,{className:"w-5 h-5 text-empire-emerald-400"}),a&&h&&e.jsx(v,{className:"w-5 h-5 text-red-400"})]},s)})}),a&&t.explanation&&e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"p-4 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxs("h4",{className:"font-medium mb-2 flex items-center space-x-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:"Explanation"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.explanation})]})]})]})},o)}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mt-8",children:[e.jsxs(x,{variant:"outline",onClick:H,disabled:o===0,className:"order-2 sm:order-1",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Previous"]}),e.jsxs("div",{className:"flex space-x-2 order-1 sm:order-2",children:[!a&&l[t.id]!==void 0&&e.jsxs(x,{variant:"outline",onClick:Y,children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Check Answer"]}),(a||l[t.id]!==void 0)&&e.jsxs(x,{onClick:G,disabled:l[t.id]===void 0,children:[o===u-1?"Finish Quiz":"Next Question",e.jsx(ee,{className:"w-4 h-4 ml-2"})]})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-8",children:e.jsxs(w,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[e.jsx(E,{children:e.jsx(I,{className:"text-sm",children:"Question Navigator"})}),e.jsx(C,{children:e.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:i.questions.map((s,r)=>{const n=l[i.questions[r].id]!==void 0,d=r===o;return e.jsx(x,{variant:d?"default":"outline",size:"sm",className:`aspect-square ${n&&!d?"bg-empire-emerald-500/20 border-empire-emerald-400":""}`,onClick:()=>{j(r),p(!1)},children:r+1},r)})})})]})})]})})};export{oe as default};
