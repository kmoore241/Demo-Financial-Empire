const r="https://api.coingecko.com/api/v3",n=async(t=50)=>{try{const e=await fetch(`${r}/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=${t}&page=1&sparkline=false&price_change_percentage=24h`);if(!e.ok)throw new Error("Failed to fetch crypto data");return await e.json()}catch(e){return console.error("Error fetching crypto data:",e),i()}},s=async()=>{var t;try{const e=await fetch(`${r}/news`);if(!e.ok)throw new Error("Failed to fetch news");return((t=(await e.json()).data)==null?void 0:t.slice(0,10).map(o=>({title:o.title,description:o.description,url:o.url,source:o.news_site,publishedAt:o.published_at,imageUrl:o.thumb_2x})))||[]}catch(e){return console.error("Error fetching news:",e),p()}},c=async()=>{try{const t=await n(10),e=[];return t.forEach((a,o)=>{a.total_volume>1e9&&e.push({id:`whale_${a.id}_${Date.now()}_${o}`,symbol:a.symbol.toUpperCase(),amount:Math.floor(Math.random()*1e6),value:a.current_price*Math.floor(Math.random()*1e6),type:Math.random()>.5?"buy":"sell",timestamp:new Date(Date.now()-Math.random()*36e5).toISOString(),address:`0x${Math.random().toString(16).substr(2,8)}...`,description:`Large ${a.symbol.toUpperCase()} transaction detected`})}),e.slice(0,5)}catch(t){return console.error("Error generating whale data:",t),l()}},i=()=>[{id:"bitcoin",symbol:"btc",name:"Bitcoin",current_price:116234.75,price_change_percentage_24h:2.34,market_cap:2298e9,total_volume:45e9,image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png",last_updated:new Date().toISOString()},{id:"ethereum",symbol:"eth",name:"Ethereum",current_price:4250.67,price_change_percentage_24h:1.87,market_cap:512e9,total_volume:28e9,image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png",last_updated:new Date().toISOString()},{id:"solana",symbol:"sol",name:"Solana",current_price:245.89,price_change_percentage_24h:5.21,market_cap:118e9,total_volume:85e8,image:"https://assets.coingecko.com/coins/images/4128/large/solana.png",last_updated:new Date().toISOString()}],p=()=>[{title:"Bitcoin Reaches New All-Time High Amid Institutional Adoption",description:"Major corporations continue to add Bitcoin to their treasury reserves...",url:"https://example.com/news/1",source:"CryptoNews",publishedAt:new Date().toISOString()},{title:"Ethereum 2.0 Staking Rewards Attract Institutional Investors",description:"The transition to proof-of-stake has created new opportunities...",url:"https://example.com/news/2",source:"DeFi Today",publishedAt:new Date().toISOString()}],l=()=>[{id:"whale_btc_001",symbol:"BTC",amount:500,value:58117375,type:"buy",timestamp:new Date(Date.now()-18e5).toISOString(),address:"0xabc123...def456",description:"Large BTC purchase detected on exchange"},{id:"whale_eth_002",symbol:"ETH",amount:1e4,value:42506700,type:"sell",timestamp:new Date(Date.now()-36e5).toISOString(),address:"0xdef456...abc123",description:"Significant ETH transfer to exchange wallet"}],d=async()=>{const[t,e,a]=await Promise.all([n(20),s(),c()]);return{cryptos:t,news:e,whales:a,lastUpdated:new Date().toISOString()}},h=async t=>(console.log("Executing trade:",t),{success:!0,orderId:`order_${Date.now()}`,executedAt:new Date().toISOString()});export{s as a,c as b,d as c,h as e,n as g};
